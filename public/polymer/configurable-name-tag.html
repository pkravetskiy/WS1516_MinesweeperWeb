<link rel="import" href="../bower_components/polymer/polymer.html">

<dom-module id="my-element">
  <style>
    :host {
      display: block;
    }
  </style>
  <template>
    <p>{{username}}</p>
  </template>
  <script>
  (function() {
    Polymer({
     is: 'my-element',
     properties: {
       username: {
         type: String,
         observer: '_updateUsername'
       }
     },
     _updateUsername: function () {
       console.log("User changed!");
     }
   });
  })();
  </script>
</dom-module>



<dom-module id="minesweeper-field">
  <style>
    #row {
      display: block
    }

    #column {
      display: inline-block
    }
  </style>
  <template>
    <div> Minesweeper </div>
    <template is="dom-repeat" items="{{grid}}">
      <div id="row">
        <template is="dom-repeat" items="{{item}}">
          <div id="column">
            <minesweeper-cell isrevealed="{{item.isrevealed}}" column="{{item.column}}" row="{{item.row}}" valu="{{item.value}}"></minesweeper-cell>
          </div>
        </template>
      </div>
    </template>
  </template>
  <script>
    Polymer({
      is: 'minesweeper-field',
      ready: function() {
        this.grid = null;
      }
    });
  </script>
</dom-module>

<dom-module id="minesweeper-cell">
  <style>

  </style>
  <template>
    <paper-button raised id="{{row}}-{{column}}">
      <template is="dom-if" if="{{isrevealed}}">
        <div>{{valu}}</div>
      </template>
    </paper-button>
  </template>
  <script>
    Polymer({
      is: 'minesweeper-cell',
      ready: function() {
        this.isrevealed = false;
        this.column = null;
        this.row = null;
        this.valu = null;
      },
      listeners: {
        'tap': 'regularTap',
      },
      regularTap: function(e) {
        revealField(this.row, this.column);
      }
    });
  </script>
</dom-module>
